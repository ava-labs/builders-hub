---
title: Register and Add Collateral
description: Register the NativeTokenRemote and add collateral to enable native token minting.
updated: 2024-05-31
authors: [owenwahlgren]
icon: BookOpen
---

import { Step, Steps } from 'fumadocs-ui/components/steps';

# Register and Add Collateral

After deploying NativeTokenRemote, you need to complete two steps before the bridge is operational:

1. **Register** the remote with the home contract
2. **Add collateral** to enable native token minting

## Why Collateral is Required

The NativeTokenRemote contract mints **real native tokens** that can be used for gas. To ensure the bridge is properly backed:

- Collateral is locked on the source chain (in NativeTokenHome)
- Only after full collateralization can tokens be minted
- This ensures every minted token is backed 1:1

```
Source Chain                              Destination Chain
┌─────────────────────────────┐          ┌─────────────────────────────┐
│                             │          │                             │
│  NativeTokenHome            │          │  NativeTokenRemote          │
│                             │          │                             │
│  Collateral: 1000 WAVAX     │  backs   │  Can mint up to:            │
│  (locked tokens)        ────│──────────│  1000 native tokens         │
│                             │          │                             │
└─────────────────────────────┘          └─────────────────────────────┘
```

## Step 1: Register Remote

<Steps>
<Step>
### Connect to Destination Chain

Stay on (or switch to) the chain where NativeTokenRemote is deployed.

</Step>

<Step>
### Register with Home

Use the Register With Home tool. This is the same process as the ERC-20 bridge:

<ToolboxMdxWrapper>
    <RegisterWithHome />
</ToolboxMdxWrapper>

</Step>

<Step>
### Verify Registration

Wait for the ICM message to be processed. The tool will show:
- ✅ **Registered** when complete
- The home contract events confirming registration

</Step>
</Steps>

## Step 2: Add Collateral

<Steps>
<Step>
### Understand Collateral Requirements

The Add Collateral tool will show you:

| Information | Description |
|-------------|-------------|
| **Collateral Needed** | Total amount required (from Initial Reserve Imbalance) |
| **Your Balance** | How much you have available to add |
| **Current Allowance** | How much the home contract can spend |
| **Collateralization Status** | Whether the bridge is fully backed |

</Step>

<Step>
### Switch to Source Chain

Collateral is added on the **source chain** (where NativeTokenHome is deployed), NOT the destination chain.

<Callout type="info">
This is because you're locking tokens in the NativeTokenHome contract to back the minted tokens on the destination.
</Callout>

</Step>

<Step>
### Add Collateral

Use the Add Collateral tool below:

<ToolboxMdxWrapper>
    <AddCollateral />
</ToolboxMdxWrapper>

The tool will:

1. **Fetch remote info**: Automatically get the Token Home address and source chain
2. **Show collateral status**: Display how much is needed and current status
3. **Auto-fill amount**: Pre-populate with the required collateral amount
4. **Handle approval**: For ERC-20 token homes, approve spending first
5. **Add collateral**: Lock tokens in the home contract

</Step>

<Step>
### Approve Tokens (For ERC-20 Token Homes)

If your Token Home uses ERC-20 tokens, you'll need to:

1. Click **"Approve"** to allow the home contract to spend your tokens
2. Wait for the approval transaction
3. Then click **"Add Collateral"**

For Native Token Homes, the collateral is sent directly as native tokens.

</Step>

<Step>
### Verify Collateralization

After adding collateral:

- **Refresh Status** to see updated values
- Look for ✅ **"Fully Collateralized"** status
- The bridge is now ready for transfers

</Step>
</Steps>

## Understanding Collateral Flow

### For Native Token Home (wrapped tokens)

```
1. You have wrapped native tokens (WAVAX)
2. Approve NativeTokenHome to spend your WAVAX
3. Call addCollateral() with the amount
4. WAVAX is transferred to the home contract
5. Remote is now collateralized
```

### For ERC-20 Token Home

```
1. You have ERC-20 tokens
2. Approve ERC20TokenHome to spend your tokens
3. Call addCollateral() with the amount
4. Tokens are transferred to the home contract
5. Remote is now collateralized
```

## Collateral Status States

| Status | Meaning | Bridge Works? |
|--------|---------|---------------|
| **Not Collateralized** | No collateral added yet | ❌ No |
| **Partially Collateralized** | Some collateral, not full | ❌ No |
| **Fully Collateralized** | Required amount deposited | ✅ Yes |
| **Over Collateralized** | More than required | ✅ Yes |

## Token Type Detection

The Add Collateral tool automatically detects whether your Token Home is:

- **NativeTokenHome**: Uses wrapped native tokens, sends as `value`
- **ERC20TokenHome**: Uses ERC-20 tokens, requires approval

This is done by checking for specific storage locations in the contract.

## Troubleshooting

### "Insufficient Balance"

You don't have enough tokens to add the required collateral. Options:
- Get more tokens from a faucet
- Use a smaller initial reserve imbalance
- Bridge tokens from another source

### "Insufficient Allowance"

For ERC-20 Token Homes, you need to approve first:
1. Click the **"Approve"** button
2. Wait for transaction confirmation
3. Then add collateral

### Collateral Not Showing as Added

Wait for:
1. Source chain transaction to confirm
2. ICM message to relay (if applicable)
3. Click "Refresh Status" in the tool

## Bridge State After Collateralization

Your native-to-native bridge is now ready:

| Component | Status |
|-----------|--------|
| NativeTokenHome | ✅ Deployed, ✅ Has collateral |
| NativeTokenRemote | ✅ Deployed, ✅ Registered, ✅ Collateralized |
| Bridge Connection | ✅ Established |
| Native Token Minting | ✅ Enabled |

## Next Steps

With the bridge fully set up and collateralized, you can now:

1. **Bridge tokens** that become native gas tokens
2. **Use bridged tokens** directly for gas fees
3. **Bridge back** to release collateral on the source chain


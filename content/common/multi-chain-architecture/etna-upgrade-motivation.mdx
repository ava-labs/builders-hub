import YouTube from '@/components/content-design/youtube';

The Avalanche9000 upgrade was the largest network upgrade of Avalanche to date. This upgrade introduced a new
concept called Layer 1 blockchains (L1s), which replaced the previous Subnet model. In this article
we will discuss the limitations of Subnets, and how the changes described in
[ACP-77](https://github.com/avalanche-foundation/ACPs/blob/main/ACPs/77-reinventing-subnets/README.md)
addressed these limitations in the Etna Upgrade.

<YouTube id="6t2agl0J0OU" />

## How Subnets Worked Before Avalanche9000

The Avalanche network had a large set of validators who all participated in running and validating the Primary Network. The Primary Network consists of the C-Chain, P-Chain, and X-Chain, and is where most of the transactions on Avalanche are processed.

A blockchain has a limited capacity for computation and data storage. Therefore, the transactions it can process in a given time frame are limited. We can use the analogy of a highway to visualize this concept. A highway can only handle a certain number of cars at a time. If too many cars try to enter the highway at once, traffic congestion will occur and they have to wait to enter the highway.

<img src="/common-images/multi-chain-architecture/etna-upgrade/subnets.png" alt="Subnets" />

In order to scale horizontally and to offer more blockspace, a subset of validators could opt-in to validate an additional blockchain in parallel with the Primary Network: we called this a Subnet. The idea is similiar to building many highways in parallel and create additional space for cars to drive on. This allows for more transactions to be processed in parallel, and therefore increases the overall throughput of the network.

## The Avalanche9000 Upgrade

With the Etna upgrade, Subnets have become their own **Layer 1** blockchains. Instead of using a subset of Primary Network Validators, new L1s can now use a distinct set of validators.

<img src="/common-images/multi-chain-architecture/etna-upgrade/l1s.png" alt="L1s" />

This change maintains the short time of finality and high throughput Avalanche Subnets are known for while also enabling a new set of features with options for completely customizable staking options, gas tokens, and governance.

### Economic Barriers Removed

The Primary Network had a staking requirement of **2,000 AVAX per validator**. If we assume a price of \$20 per AVAX, a Subnet would have to have each of its validators stake AVAX worth \$40,000 in addition to its own staking requirements. This was a significant economic barrier for the creation of new Subnets.

<img src="/common-images/multi-chain-architecture/etna-upgrade/subnets-staking-requirements.png" alt="Staking Requirements" />

This model created a significant economic barrier for the creation of new Subnets as validators had to meet the 2,000 AVAX requirement, and a majority of Subnets preferred to run with a minimum of 5 validators.

The Avalanche9000 upgrade has removed the requirement for L1 validators to validate the Primary Network and fulfill its staking requirements. Therefore, they do not need to stake 2,000 AVAX on the Primary Network, and instead only abide by the staking requirements defined by the L1 they wish to validate.

<img src="/common-images/multi-chain-architecture/etna-upgrade/l1s-staking-requirement.png" alt="L1 Staking Requirements" />

To use the interoperability features of Avalanche, L1 validators still need to register their validator set with the P-Chain of the Primary Network. For this each L1 validator needs to pay a continuous fee. This fee is independent of the number of transactions on the L1, the number of cross-chain messages, and the number of validators of the L1. The fee is around 1 to 10 AVAX per month per validator.

This has removed the significant economic barrier, giving more sovereignty to L1 creators and validators, while preserving interoperability and economic security for the Primary Network.

### Running Costs Reduced

Previously, validators had to validate the Primary Network in addition to each Subnet they were validating. This led to higher running costs for validators as they had to maintain machines that could handle the load of all their blockchains.

<img src="/common-images/multi-chain-architecture/etna-upgrade/subnet-running-cost.png" alt="Subnet Running Cost" />

With the Avalanche9000 upgrade, validators now only need to validate the L1. This has led to lower running costs for validators as they do not need to maintain machines that can handle the load of both the Subnets and the Primary Network.

<img src="/common-images/multi-chain-architecture/etna-upgrade/l1-running-cost.png" alt="L1 Running Cost" />

### Improved Compliance

Many Institutions that want to adopt blockchain struggle with exposure to public permissionless blockchains. The Primary Network is a public permissionless blockchain, and as such, it was not suitable to build on for many institutions. While institutions could launch their own Subnet as a private, proof of authority blockchain, they were still exposed to the Primary Network in some manner.

<img src="/common-images/multi-chain-architecture/etna-upgrade/subnets-compliance.png" alt="Subnet Compliance" />

This exposure could be circumvented by performing a partial sync of the Primary Network, but was an incomplete solution. Since the validator sets of L1s are now distinct and separate from the Primary Network, institutions are able to launch independent L1s (be it public or private) that are not required to participate in the Primary Network.

<img src="/common-images/multi-chain-architecture/etna-upgrade/l1s-compliance.png" alt="L1 Compliance" />

### Enhanced Fault Isolation

Occasionally, there could be very high demand or a fault on the Primary Network. Because Subnet validators also had to validate the Primary Network, their machines were exposed to the same congestion which could have consequential effects on Subnet performance.

<img src="/common-images/multi-chain-architecture/etna-upgrade/subnets-primary-network-congestion.png" alt="Fault Isolation" />

After the Avalanche9000 upgrade, validator sets are distinct. Therefore, congestion and faults on the Primary Network do not affect the performance of L1s and vice versa.

<img src="/common-images/multi-chain-architecture/etna-upgrade/l1s-primary-network-faults.png" alt="L1s Fault Isolation" />

## Conclusion

The Avalanche9000 upgrade has been the largest network upgrade of Avalanche to date. This change has enabled more developers to get inexpensive block space for their applications, provided better fault isolation, while also enabling institutions to launch their own L1s with better compliance.

You can learn more in depth about the implemented changes by reading the [ACP-77 Proposal](https://github.com/avalanche-foundation/ACPs/blob/main/ACPs/77-reinventing-subnets/README.md).
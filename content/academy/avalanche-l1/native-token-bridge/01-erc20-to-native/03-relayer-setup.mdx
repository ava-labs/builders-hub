---
title: ICM & Relayer Setup
description: Deploy ICM contracts and set up a relayer between Fuji C-Chain and your new L1.
updated: 2025-12-17
authors: [nicolasarnedo]
icon: Terminal
---

import { Step, Steps } from 'fumadocs-ui/components/steps';
import { Callout } from 'fumadocs-ui/components/callout';
import { Accordion, Accordions } from 'fumadocs-ui/components/accordion';
import ToolboxMdxWrapper from "@/components/toolbox/academy/wrapper/ToolboxMdxWrapper.tsx";
import CreateManagedTestnetRelayer from "@/components/toolbox/console/testnet-infra/ManagedTestnetRelayers/CreateManagedTestnetRelayer";
import ICMRelayer from "@/components/toolbox/console/icm/setup/ICMRelayer";
import TeleporterMessenger from "@/components/toolbox/console/icm/setup/TeleporterMessenger";
import TeleporterRegistry from "@/components/toolbox/console/icm/setup/TeleporterRegistry";

Token bridging uses Interchain Messaging (ICM) under the hood. Before setting up a relayer, you need to deploy the ICM contracts on your L1.

<Steps>
<Step>
### Deploy Teleporter Messenger

First, deploy the Teleporter Messenger contract on your L1. This contract handles sending and receiving cross-chain messages.

<ToolboxMdxWrapper walletMode="l1">
  <TeleporterMessenger />
</ToolboxMdxWrapper>

</Step>

<Step>
### Deploy Teleporter Registry

Next, deploy the Teleporter Registry contract on your L1. This contract tracks Teleporter versions and is required by all ICTT contracts.

<ToolboxMdxWrapper walletMode="l1">
  <TeleporterRegistry />
</ToolboxMdxWrapper>

<Callout type="info">
**Save the Teleporter Registry address** - you'll need it when deploying bridge contracts later in this course.
</Callout>

</Step>

<Step>
### Set Up the Relayer

Now set up a relayer between **Fuji C-Chain** and your **new L1** to deliver cross-chain messages.

We'll use a **hosted relayer** (no Docker required) that's perfect for testing. The relayer will automatically shut down after 3 days.

<ToolboxMdxWrapper walletMode="testnet-mainnet">
  <CreateManagedTestnetRelayer />
</ToolboxMdxWrapper>

In the tool above:
1. Select **Fuji C-Chain** and your **new L1** as the networks to relay between
2. Create the hosted relayer (it will automatically start running)
3. Fund the relayer address with enough gas on **both** chains if needed

</Step>
</Steps>

<Callout type="info">
**Note**: Hosted relayers are free and perfect for testing. They automatically shut down after 3 days. For production or extended testing, use a self-hosted relayer.

If you don't have the relayer running, cross-chain messages will be created but **never delivered**, and your bridge transfers will appear "stuck".
</Callout>

<Accordions>
<Accordion title="Self-Hosted Relayer (Alternative)">

If you prefer to run your own infrastructure or need a relayer that runs longer than 3 days, you can set up a self-hosted relayer using Docker.

<ToolboxMdxWrapper walletMode="l1">
  <ICMRelayer />
</ToolboxMdxWrapper>

### Instructions

1. Select **Fuji C-Chain** and your **new L1** as the networks to relay between
2. Fund the generated relayer address with enough gas on **both** chains
3. Save the configuration to your machine
4. Run the provided Docker command to start the relayer

</Accordion>
</Accordions>


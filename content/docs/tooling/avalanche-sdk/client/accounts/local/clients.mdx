---
title: "Using Accounts with Clients"
icon: "link"
---

## Overview

Learn how to integrate Avalanche accounts with different client types for read-only operations and transaction signing.

## Public Client (Read-Only Operations)

### Basic Setup

```typescript
import { createAvalancheClient } from "@avalanche-sdk/client";
import { avalanche } from "@avalanche-sdk/client/chains";
import { privateKeyToAvalancheAccount } from "@avalanche-sdk/client/accounts";
import type { AvalancheAccount } from "@avalanche-sdk/client/accounts";

const client = createAvalancheClient({
  chain: avalanche,
  transport: { type: "http" },
});

const account: AvalancheAccount = privateKeyToAvalancheAccount(privateKey);
```

### Read Operations

```typescript
// Get EVM balance
try {
  const evmBalance = await client.getBalance({
    address: account.getEVMAddress(),
  });
  console.log("EVM Balance:", evmBalance);

  // Get P-Chain height
  const pChainHeight = await client.pChain.getHeight();
  console.log("P-Chain Height:", pChainHeight);
} catch (error) {
  console.error("Failed to fetch data:", error);
}
```

## Wallet Client (Transaction Operations)

### Basic Setup

```typescript
import { createAvalancheWalletClient } from "@avalanche-sdk/client";
import { avalanche } from "@avalanche-sdk/client/chains";
import { privateKeyToAvalancheAccount } from "@avalanche-sdk/client/accounts";
import type { AvalancheAccount } from "@avalanche-sdk/client/accounts";

const account: AvalancheAccount = privateKeyToAvalancheAccount(privateKey);

// Hoist the account in the client
const walletClient = createAvalancheWalletClient({
  account,
  chain: avalanche,
  transport: { type: "http" },
});
```

### Transaction Operations

```typescript
try {
  // Send EVM transaction
  const txHash = await walletClient.send({
    to: "0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6",
    amount: 0.001,
  });
  console.log("Transaction sent:", txHash);

  // P-Chain transaction
  const pChainTx = await walletClient.pChain.prepareBaseTxn({
    outputs: [
      {
        addresses: [account.getXPAddress("P")],
        amount: 0.00001,
      },
    ],
  });

  const pChainTxHash = await walletClient.sendXPTransaction(pChainTx);
  console.log("P-Chain transaction sent:", pChainTxHash);

  // X-Chain transaction
  const xChainTx = await walletClient.xChain.prepareBaseTxn({
    outputs: [
      {
        addresses: [account.getXPAddress("X")],
        amount: 1,
      },
    ],
  });

  const xChainTxHash = await walletClient.sendXPTransaction(xChainTx);
  console.log("X-Chain transaction sent:", xChainTxHash);
} catch (error) {
  console.error("Failed to send transaction:", error);
}
```

## Cross-Chain Operations

Cross-chain operations allow you to transfer assets between Avalanche chains (P-Chain, X-Chain, and C-Chain) using the import/export pattern.

<Callout>
  **Learn more:** For detailed cross-chain transfer workflows and patterns, see
  [Cross-Chain Transfers](cross-chain).
</Callout>

### Basic Export/Import Flow

The export/import pattern is fundamental to cross-chain transfers:

1. **Export** from source chain (e.g., P-Chain)
2. Wait for transaction confirmation
3. **Import** to destination chain (e.g., C-Chain)

<Callout>
  **Note:** Both export and import transactions must be signed and broadcasted.
  See the cross-chain documentation for complete examples.
</Callout>

## Account Hoisting

### Hoist Account into Client

```typescript
const walletClient = createAvalancheWalletClient({
  account, // Account is hoisted
  chain: avalanche,
  transport: { type: "http" },
});

// No need to pass account to each action
const txHash = await walletClient.send({
  to: "0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6",
  amount: 0.001,
});
```

### Pass Account per Action

```typescript
const walletClient = createAvalancheWalletClient({
  chain: avalanche,
  transport: { type: "http" },
});

// Pass account to each action
const txHash = await walletClient.send({
  account, // Account passed per action
  to: "0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6",
  amount: 0.001,
});
```

## Next Steps

- **[Wallet Operations](wallet)** - Learn how to send transactions
- **[P-Chain Operations](p-chain)** - Validator and staking operations
- **[X-Chain Operations](x-chain)** - Asset transfers and UTXO operations
- **[C-Chain Operations](c-chain)** - EVM and smart contract operations
